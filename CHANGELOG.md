# Changelog

æ‰€æœ‰å¯¹è¯¥é¡¹ç›®çš„é‡è¦æ›´æ”¹éƒ½å°†è®°å½•åœ¨æ­¤æ–‡ä»¶ä¸­ã€‚

æœ¬é¡¹ç›®éµå¾ª [è¯­ä¹‰åŒ–ç‰ˆæœ¬](https://semver.org/lang/zh-CN/)ã€‚

## [æœªå‘å¸ƒ]

### é‡å¤§ç‰¹æ€§ ğŸ‰

#### ä¼ä¸šçº§å®‰å…¨ç³»ç»Ÿ ğŸ”’

Swit æ¡†æ¶æ–°å¢å®Œæ•´çš„ä¼ä¸šçº§å®‰å…¨åŠŸèƒ½ï¼Œæä¾›å¤šå±‚æ¬¡çš„å®‰å…¨ä¿æŠ¤èƒ½åŠ›ã€‚

- **OAuth2/OIDC è®¤è¯**
  - âœ… å®Œæ•´çš„ OAuth2 å®¢æˆ·ç«¯å®ç° - æ”¯æŒå¤šç§è®¤è¯æµç¨‹
  - âœ… OIDC Discovery æ”¯æŒ - è‡ªåŠ¨å‘ç°ç«¯ç‚¹é…ç½®
  - âœ… å¤š Provider æ”¯æŒ - Keycloakã€Auth0ã€è‡ªå®šä¹‰ Provider
  - âœ… JWT ä»¤ç‰ŒéªŒè¯ - RS256/HS256 ç­‰å¤šç§ç­¾åç®—æ³•
  - âœ… JWKS ç¼“å­˜ - è‡ªåŠ¨åˆ·æ–°å…¬é’¥
  - âœ… ä»¤ç‰Œç¼“å­˜ - å‡å°‘éªŒè¯å¼€é”€

- **OPA ç­–ç•¥å¼•æ“**
  - âœ… åµŒå…¥å¼æ¨¡å¼ - OPA å¼•æ“è¿è¡Œåœ¨åŒä¸€è¿›ç¨‹
  - âœ… è¿œç¨‹æ¨¡å¼ - è¿æ¥å¤–éƒ¨ OPA æœåŠ¡å™¨
  - âœ… Sidecar æ¨¡å¼ - Kubernetes å‹å¥½çš„éƒ¨ç½²æ¨¡å¼
  - âœ… RBAC ç­–ç•¥æ¨¡æ¿ - åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶
  - âœ… ABAC ç­–ç•¥æ¨¡æ¿ - åŸºäºå±æ€§çš„è®¿é—®æ§åˆ¶
  - âœ… å†³ç­–ç¼“å­˜ - æå‡ç­–ç•¥è¯„ä¼°æ€§èƒ½
  - âœ… ç­–ç•¥çƒ­æ›´æ–° - åŠ¨æ€åŠ è½½å’Œæ›´æ–°ç­–ç•¥

- **å¯†é’¥ç®¡ç†**
  - âœ… å¤š Provider æ”¯æŒ - ç¯å¢ƒå˜é‡ã€æ–‡ä»¶ã€HashiCorp Vault
  - âœ… å¯†é’¥ç¼“å­˜ - å‡å°‘å¯†é’¥è·å–å»¶è¿Ÿ
  - âœ… è‡ªåŠ¨åˆ·æ–° - å®šæœŸåˆ·æ–°å¯†é’¥
  - âœ… å¯†é’¥è½®æ¢æ”¯æŒ - å¹³æ»‘çš„å¯†é’¥æ›´æ–°

- **å®‰å…¨æ‰«æ**
  - âœ… gosec é›†æˆ - Go ä»£ç å®‰å…¨æ‰«æ
  - âœ… Trivy é›†æˆ - å®¹å™¨é•œåƒæ¼æ´æ‰«æ
  - âœ… govulncheck é›†æˆ - Go ä¾èµ–æ¼æ´æ£€æŸ¥
  - âœ… ç»Ÿä¸€æŠ¥å‘Š - èšåˆæ‰«æç»“æœ

- **TLS/mTLS**
  - âœ… TLS é…ç½®ç®¡ç† - è¯ä¹¦åŠ è½½å’ŒéªŒè¯
  - âœ… æœ€ä½ç‰ˆæœ¬æ§åˆ¶ - å¼ºåˆ¶ TLS 1.2+
  - âœ… å®¢æˆ·ç«¯è¯ä¹¦éªŒè¯ - mTLS æ”¯æŒ
  - âœ… è¯ä¹¦è½®æ¢ - æ”¯æŒè¯ä¹¦çƒ­æ›´æ–°

- **å®¡è®¡æ—¥å¿—**
  - âœ… å®‰å…¨äº‹ä»¶è®°å½• - è®¤è¯ã€æˆæƒã€è®¿é—®äº‹ä»¶
  - âœ… æ•æ„Ÿæ•°æ®è„±æ• - è‡ªåŠ¨è¿‡æ»¤æ•æ„Ÿå­—æ®µ
  - âœ… å¤šè¾“å‡ºç›®æ ‡ - æ–‡ä»¶ã€Syslog ç­‰

- **å®‰å…¨æŒ‡æ ‡**
  - âœ… Prometheus é›†æˆ - è®¤è¯/æˆæƒæŒ‡æ ‡
  - âœ… ä»¤ç‰ŒéªŒè¯å»¶è¿Ÿ - æ€§èƒ½ç›‘æ§
  - âœ… ç­–ç•¥è¯„ä¼°æŒ‡æ ‡ - OPA æ€§èƒ½è¿½è¸ª
  - âœ… å®‰å…¨äº‹ä»¶è®¡æ•° - å¼‚å¸¸æ£€æµ‹

#### Saga åˆ†å¸ƒå¼äº‹åŠ¡ç³»ç»Ÿ

Swit æ¡†æ¶ç°å·²å®Œæ•´æ”¯æŒ Saga åˆ†å¸ƒå¼äº‹åŠ¡æ¨¡å¼ï¼Œæä¾›ä¼ä¸šçº§çš„åˆ†å¸ƒå¼äº‹åŠ¡ç®¡ç†èƒ½åŠ›ã€‚

- **æ ¸å¿ƒå¼•æ“**
  - âœ… Saga åè°ƒå™¨ï¼ˆCoordinatorï¼‰- ç®¡ç†äº‹åŠ¡ç”Ÿå‘½å‘¨æœŸ
  - âœ… çŠ¶æ€ç®¡ç†å™¨ï¼ˆState Managerï¼‰- æŒä¹…åŒ–å’ŒæŸ¥è¯¢ Saga çŠ¶æ€
  - âœ… äº‹ä»¶å‘å¸ƒ/è®¢é˜…ç³»ç»Ÿ - å¯é çš„äº‹ä»¶æ¶ˆæ¯ä¼ é€’
  - âœ… å¤šå­˜å‚¨åç«¯æ”¯æŒ - PostgreSQLã€MySQLã€SQLiteã€å†…å­˜å­˜å‚¨

- **æ‰§è¡Œæ¨¡å¼**
  - âœ… ç¼–æ’æ¨¡å¼ï¼ˆOrchestrationï¼‰- ä¸­å¿ƒåŒ–äº‹åŠ¡åè°ƒ
  - âœ… ååŒæ¨¡å¼ï¼ˆChoreographyï¼‰- å»ä¸­å¿ƒåŒ–äº‹ä»¶é©±åŠ¨
  - âœ… æ··åˆæ¨¡å¼ï¼ˆHybridï¼‰- æ™ºèƒ½æ¨¡å¼é€‰æ‹©

- **é«˜çº§ç‰¹æ€§**
  - âœ… çµæ´»çš„é‡è¯•ç­–ç•¥ï¼ˆæŒ‡æ•°é€€é¿ã€å›ºå®šå»¶è¿Ÿã€çº¿æ€§é€€é¿ï¼‰
  - âœ… å¤šç§è¡¥å¿ç­–ç•¥ï¼ˆé¡ºåºã€å¹¶è¡Œã€è‡ªå®šä¹‰ï¼‰
  - âœ… è¶…æ—¶æ§åˆ¶å’Œè‡ªåŠ¨æ¢å¤
  - âœ… æ­»ä¿¡é˜Ÿåˆ—ï¼ˆDLQï¼‰å¤„ç†
  - âœ… äº‹åŠ¡æ€§æ¶ˆæ¯å‘é€
  - âœ… æ‰¹é‡äº‹ä»¶å‘å¸ƒ

#### Saga DSLï¼ˆé¢†åŸŸç‰¹å®šè¯­è¨€ï¼‰

æä¾›å£°æ˜å¼çš„ YAML é…ç½®æ–¹å¼å®šä¹‰ Saga å·¥ä½œæµï¼Œç®€åŒ–å¼€å‘æµç¨‹ã€‚

- **DSL åŠŸèƒ½**
  - âœ… YAML è¯­æ³•å®šä¹‰ - äººç±»å¯è¯»çš„é…ç½®æ ¼å¼
  - âœ… DSL è§£æå™¨ - å°† YAML è½¬æ¢ä¸º Saga å®šä¹‰
  - âœ… é…ç½®éªŒè¯å™¨ - ç¼–è¯‘æ—¶å’Œè¿è¡Œæ—¶éªŒè¯
  - âœ… ä»£ç ç”Ÿæˆå™¨ - è‡ªåŠ¨ç”Ÿæˆ Go ä»£ç 
  - âœ… DSL æµ‹è¯•å·¥å…· - éªŒè¯ DSL é…ç½®æ­£ç¡®æ€§

- **å‘½ä»¤è¡Œå·¥å…·**
  - âœ… `saga-dsl-validate` - DSL é…ç½®éªŒè¯å·¥å…·
  - âœ… `saga-migrate` - æ•°æ®åº“è¿ç§»å·¥å…·

#### Saga å®‰å…¨ç³»ç»Ÿ

ä¼ä¸šçº§å®‰å…¨ç‰¹æ€§ç¡®ä¿åˆ†å¸ƒå¼äº‹åŠ¡çš„å®‰å…¨æ€§å’Œåˆè§„æ€§ã€‚

- **è®¤è¯ä¸æˆæƒ**
  - âœ… Saga è®¤è¯ä¸­é—´ä»¶ - JWT/API Key æ”¯æŒ
  - âœ… RBAC æƒé™æ§åˆ¶ - åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶
  - âœ… ACL è®¿é—®æ§åˆ¶åˆ—è¡¨ - ç»†ç²’åº¦æƒé™ç®¡ç†

- **æ•°æ®ä¿æŠ¤**
  - âœ… æ•æ„Ÿæ•°æ®åŠ å¯† - AES-256-GCM åŠ å¯†
  - âœ… å­—æ®µçº§åŠ å¯† - æ”¯æŒç‰¹å®šå­—æ®µåŠ å¯†
  - âœ… å®¡è®¡æ—¥å¿—ç³»ç»Ÿ - å®Œæ•´çš„æ“ä½œè¿½è¸ª
  - âœ… æ“ä½œå®¡è®¡æŠ¥å‘Š - ç”Ÿæˆå®¡è®¡æŠ¥å‘Š

#### Saga ç›‘æ§ä¸å¯è§‚æµ‹æ€§

å…¨é¢çš„ç›‘æ§å’Œè¿½è¸ªèƒ½åŠ›ï¼Œç¡®ä¿ç”Ÿäº§ç¯å¢ƒçš„å¯é è¿è¡Œã€‚

- **æŒ‡æ ‡æ”¶é›†**
  - âœ… Prometheus é›†æˆ - æ”¶é›†å…³é”®æ€§èƒ½æŒ‡æ ‡
  - âœ… è‡ªå®šä¹‰æŒ‡æ ‡ - æ”¯æŒä¸šåŠ¡æŒ‡æ ‡å®šä¹‰
  - âœ… æŒ‡æ ‡ä»ªè¡¨ç›˜ - å¯è§†åŒ–ç›‘æ§æ•°æ®

- **åˆ†å¸ƒå¼è¿½è¸ª**
  - âœ… OpenTelemetry é›†æˆ - æ ‡å‡†è¿½è¸ªåè®®
  - âœ… Jaeger/Zipkin æ”¯æŒ - è¿½è¸ªæ•°æ®å¯è§†åŒ–
  - âœ… ä¸Šä¸‹æ–‡ä¼ æ’­ - è·¨æœåŠ¡è¿½è¸ª

- **å¥åº·æ£€æŸ¥**
  - âœ… å¥åº·æ£€æŸ¥æ¥å£ - ç›‘æ§ Saga ç³»ç»ŸçŠ¶æ€
  - âœ… å‘Šè­¦é›†æˆ - è‡ªåŠ¨å‘Šè­¦é€šçŸ¥

#### Saga Dashboardï¼ˆç®¡ç†åå°ï¼‰

åŠŸèƒ½å®Œæ•´çš„ Web ç®¡ç†ç•Œé¢ï¼Œæä¾›ç›´è§‚çš„ Saga ç®¡ç†ä½“éªŒã€‚

- **æ ¸å¿ƒåŠŸèƒ½**
  - âœ… Saga åˆ—è¡¨å’Œè¯¦æƒ…æŸ¥è¯¢ - æŸ¥çœ‹æ‰€æœ‰ Saga å®ä¾‹
  - âœ… å®æ—¶çŠ¶æ€ç›‘æ§ - å®æ—¶æŸ¥çœ‹æ‰§è¡ŒçŠ¶æ€
  - âœ… æ“ä½œæ§åˆ¶ API - å–æ¶ˆã€é‡è¯• Saga
  - âœ… æµç¨‹å¯è§†åŒ– - å›¾å½¢åŒ–æ˜¾ç¤ºæ‰§è¡Œæµç¨‹
  - âœ… æŒ‡æ ‡æ•°æ®å±•ç¤º - æ€§èƒ½å’Œå¥åº·æŒ‡æ ‡

- **å‰ç«¯ç•Œé¢**
  - âœ… ç°ä»£åŒ– Web UI - å“åº”å¼è®¾è®¡
  - âœ… å®æ—¶æ•°æ®æ¨é€ - WebSocket å®æ—¶æ›´æ–°
  - âœ… äº¤äº’å¼å›¾è¡¨ - æ•°æ®å¯è§†åŒ–

#### Saga ç¤ºä¾‹åº”ç”¨

æä¾› 4 ä¸ªå®Œæ•´çš„ä¸šåŠ¡åœºæ™¯ç¤ºä¾‹ï¼Œå±•ç¤ºæœ€ä½³å®è·µã€‚

- **ç¤ºä¾‹åº”ç”¨**
  - âœ… è®¢å•å¤„ç† Saga - ç”µå•†è®¢å•å®Œæ•´æµç¨‹
  - âœ… æ”¯ä»˜å¤„ç† Saga - è·¨è´¦æˆ·èµ„é‡‘è½¬è´¦
  - âœ… åº“å­˜ç®¡ç† Saga - å¤šä»“åº“åº“å­˜åè°ƒ
  - âœ… ç”¨æˆ·æ³¨å†Œ Saga - ç”¨æˆ·æ³¨å†Œå’Œåˆå§‹åŒ–

- **é…å¥—å·¥å…·**
  - âœ… Docker Compose é…ç½® - ä¸€é”®å¯åŠ¨ç¯å¢ƒ
  - âœ… è¿è¡Œè„šæœ¬ - ç®€åŒ–ç¤ºä¾‹è¿è¡Œ
  - âœ… ç«¯åˆ°ç«¯æµ‹è¯• - éªŒè¯ç¤ºä¾‹æ­£ç¡®æ€§

### æµ‹è¯•ä¸è´¨é‡ ğŸ§ª

- **æµ‹è¯•å¥—ä»¶**
  - âœ… å®Œæ•´çš„å•å…ƒæµ‹è¯•å¥—ä»¶ - æ ¸å¿ƒåŒ…è¦†ç›–ç‡ >90%
  - âœ… é›†æˆæµ‹è¯•å¥—ä»¶ - ç«¯åˆ°ç«¯åœºæ™¯æµ‹è¯•
  - âœ… æ€§èƒ½åŸºå‡†æµ‹è¯• - æ€§èƒ½å›å½’æ£€æµ‹
  - âœ… æ··æ²Œæµ‹è¯•å¥—ä»¶ - éªŒè¯ç³»ç»Ÿç¨³å®šæ€§
  - âœ… æµ‹è¯•æ•°æ® Fixtures - æ ‡å‡†åŒ–æµ‹è¯•æ•°æ®

- **æµ‹è¯•å·¥å…·**
  - âœ… Mock æµ‹è¯•å·¥å…· - ç®€åŒ–æµ‹è¯•ç¼–å†™
  - âœ… DSL æµ‹è¯•å·¥å…· - DSL é…ç½®æµ‹è¯•

- **CI/CD é›†æˆ**
  - âœ… GitHub Actions å·¥ä½œæµ - è‡ªåŠ¨åŒ–æµ‹è¯•å’Œæ„å»º
  - âœ… ä»£ç è¦†ç›–ç‡æŠ¥å‘Š - Codecov é›†æˆ
  - âœ… ä»£ç è´¨é‡æ£€æŸ¥ - Linting å’Œä»£ç å®¡æŸ¥

### æ–‡æ¡£ ğŸ“š

#### Saga æ–‡æ¡£ä½“ç³»

- **ç”¨æˆ·æ–‡æ¡£**
  - âœ… Saga ç”¨æˆ·æŒ‡å— - å¿«é€Ÿå¼€å§‹å’Œæ ¸å¿ƒæ¦‚å¿µ
  - âœ… Saga API å‚è€ƒ - å®Œæ•´çš„ API æ–‡æ¡£
  - âœ… Saga æ•™ç¨‹ - åˆ†æ­¥æ•™ç¨‹å’Œæœ€ä½³å®è·µ
  - âœ… éƒ¨ç½²æŒ‡å— - ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²æŒ‡å—

- **å¼€å‘è€…æ–‡æ¡£**
  - âœ… Saga å¼€å‘è€…æŒ‡å— - æ¶æ„è®¾è®¡å’Œæ‰©å±•å¼€å‘
  - âœ… DSL å‚è€ƒæ–‡æ¡£ - DSL è¯­æ³•å’Œä½¿ç”¨
  - âœ… å®‰å…¨æŒ‡å— - å®‰å…¨æœ€ä½³å®è·µ
  - âœ… ç›‘æ§æŒ‡å— - ç›‘æ§å’Œæ•…éšœæ’æŸ¥

- **æµ‹è¯•æ–‡æ¡£**
  - âœ… æµ‹è¯•æŒ‡å— - æµ‹è¯•ç­–ç•¥å’Œæ–¹æ³•
  - âœ… æµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š - è¯¦ç»†çš„è¦†ç›–ç‡åˆ†æ

- **ç¤ºä¾‹æ–‡æ¡£**
  - âœ… ç¤ºä¾‹åº”ç”¨æ–‡æ¡£ - æ¯ä¸ªç¤ºä¾‹çš„è¯¦ç»†è¯´æ˜
  - âœ… æ¶æ„åˆ†æ - ç¤ºä¾‹æ¶æ„è®¾è®¡

#### æ–‡æ¡£ç½‘ç«™

- âœ… VitePress æ–‡æ¡£ç«™ç‚¹ - ç°ä»£åŒ–æ–‡æ¡£ä½“éªŒ
- âœ… å¤šè¯­è¨€æ”¯æŒ - ä¸­è‹±æ–‡æ–‡æ¡£
- âœ… API è‡ªåŠ¨ç”Ÿæˆ - ä¿æŒæ–‡æ¡£åŒæ­¥
- âœ… äº¤äº’å¼ç¤ºä¾‹ - å¯è¿è¡Œçš„ä»£ç ç¤ºä¾‹

### ä¿®å¤ ğŸ›

- **æµ‹è¯•ç¨³å®šæ€§**
  - ä¿®å¤ `TestRealtimePusher_MultipleClients` ä¸ç¨³å®šæµ‹è¯• (#758)
  - ä¿®å¤æ··æ²Œæµ‹è¯•ä¸­æ­¥éª¤åç§°ä¸åŒ¹é…é—®é¢˜ (#740)
  - ä¿®å¤ `TestMessageLoss_EventOrdering` ä¸ç¨³å®šæ€§ (#747)
  - ä¿®å¤é›†æˆæµ‹è¯•è·³è¿‡é—®é¢˜ (#736)

- **CI/CD ä¿®å¤**
  - ä¿®å¤ CI æ„å»ºç¼ºå°‘ proto ç”Ÿæˆçš„é—®é¢˜ (#756)
  - ä¿®å¤ CodeQL å®‰å…¨å‘Šè­¦ (#745)
  - ä¿®å¤æµ‹è¯•å·¥ä½œæµå¤±è´¥é—®é¢˜ (#745)
  - ä¿®å¤è¦†ç›–ç‡æµ‹è¯•è·³è¿‡ä¸ç¨³å®šæµ‹è¯• (#745)

- **Saga ä¿®å¤**
  - ä¿®æ­£é‡è¯•ç­–ç•¥ç±»å‹åç§° (#763)
  - ä¿®å¤ MockStateStorage çŠ¶æ€æŒä¹…åŒ–é—®é¢˜ (#743)

### æ”¹è¿› âš¡

- **ä»£ç è´¨é‡**
  - é‡æ„ CI å’Œæµ‹è¯•å·¥ä½œæµï¼Œæ¶ˆé™¤é‡å¤ (#745)
  - æ¸…ç†æµ‹è¯•æ–‡ä»¶ä¸­çš„ç©ºç™½å­—ç¬¦ (#740, #744, #762)
  - æ ‡å‡†åŒ– mock æœåŠ¡å‡½æ•°æ ¼å¼ (#738)
  - è°ƒæ•´è¦†ç›–ç‡é˜ˆå€¼ä¸ºæ›´ç°å®çš„ç›®æ ‡ (#745)

- **æµ‹è¯•è¦†ç›–ç‡æå‡**
  - Saga base åŒ…ï¼š70.4% â†’ 96.0% (#735)
  - Saga monitoring åŒ…ï¼š71.5% â†’ 77% (#734)
  - State/storage åŒ…ï¼šå¤§å¹…æå‡ (#733)
  - DSL Parserï¼šè¡¥å……è¾¹ç•Œæµ‹è¯•å’Œé”™è¯¯å¤„ç† (#737)

- **ä¾èµ–æ›´æ–°**
  - å‡çº§ vite ä» 5.4.20 åˆ° 5.4.21 (#645)
  - å‡çº§ playwright å’Œ @playwright/test (#644)

### å·¥å…·å’Œå‘½ä»¤ ğŸ› ï¸

- **æ–°å¢å‘½ä»¤è¡Œå·¥å…·**
  - `saga-migrate` - Saga æ•°æ®åº“è¿ç§»å·¥å…·
  - `saga-dsl-validate` - DSL é…ç½®éªŒè¯å·¥å…·
  - `swit-docgen` - æ–‡æ¡£ç”Ÿæˆå·¥å…·

- **Makefile å¢å¼º**
  - æ–°å¢ `make saga-test` - Saga ç›¸å…³æµ‹è¯•
  - æ–°å¢ `make saga-docs` - ç”Ÿæˆ Saga æ–‡æ¡£
  - æ”¹è¿› `make quality` - æ›´å…¨é¢çš„è´¨é‡æ£€æŸ¥

### éƒ¨ç½²ä¸è¿ç»´ ğŸš€

- **å®¹å™¨åŒ–æ”¯æŒ**
  - Docker Compose é…ç½® - å®Œæ•´çš„æœ¬åœ°å¼€å‘ç¯å¢ƒ
  - Helm Charts - Kubernetes éƒ¨ç½²æ”¯æŒ
  - å¤šé˜¶æ®µæ„å»º - ä¼˜åŒ–é•œåƒå¤§å°

- **é…ç½®ç®¡ç†**
  - Saga é…ç½®ç¤ºä¾‹ - å„ç§åœºæ™¯çš„é…ç½®æ¨¡æ¿
  - ç¯å¢ƒå˜é‡æ”¯æŒ - çµæ´»çš„é…ç½®æ–¹å¼
  - é…ç½®éªŒè¯ - å¯åŠ¨æ—¶éªŒè¯é…ç½®æ­£ç¡®æ€§

### æ€§èƒ½ä¼˜åŒ– ğŸ“ˆ

- **Saga æ€§èƒ½**
  - æ‰¹é‡äº‹ä»¶å‘å¸ƒ - æé«˜ååé‡
  - å¼‚æ­¥è¡¥å¿ - é™ä½å»¶è¿Ÿ
  - è¿æ¥æ± ä¼˜åŒ– - æé«˜å¹¶å‘èƒ½åŠ›

- **åŸºå‡†æµ‹è¯•**
  - æ€§èƒ½åŸºå‡†æµ‹è¯•å¥—ä»¶ - é‡åŒ–æ€§èƒ½æŒ‡æ ‡
  - å‹åŠ›æµ‹è¯• - éªŒè¯ç³»ç»Ÿæé™

## ç‰ˆæœ¬è¯´æ˜

### ç‰ˆæœ¬å·æ›´æ–°

- å½“å‰ç‰ˆæœ¬ï¼š**v0.9.0** (å‡†å¤‡ä¸­)
- ç›®æ ‡ç‰ˆæœ¬ï¼š**v1.0.0** (å³å°†å‘å¸ƒ)

### Go ç‰ˆæœ¬è¦æ±‚

- **æœ€ä½ç‰ˆæœ¬**: Go 1.23.12+
- **æ¨èç‰ˆæœ¬**: Go 1.23.12 æˆ–æ›´é«˜

### ä¾èµ–è¦æ±‚

#### å¿…éœ€ä¾èµ–
- `google.golang.org/grpc` - v1.69.0+
- `google.golang.org/protobuf` - v1.36.6+
- `github.com/gin-gonic/gin` - v1.9.1+
- `go.uber.org/zap` - v1.27.0+
- `github.com/spf13/viper` - v1.18.2+
- `github.com/spf13/cobra` - v1.7.0+

#### Saga ç›¸å…³ä¾èµ–
- `gorm.io/gorm` - v1.30.0+ (çŠ¶æ€å­˜å‚¨)
- `github.com/lib/pq` - v1.10.9+ (PostgreSQL)
- `github.com/go-sql-driver/mysql` - v1.8.1+ (MySQL)
- `github.com/mattn/go-sqlite3` - v1.14.32+ (SQLite)
- `github.com/nats-io/nats.go` - v1.31.0+ (æ¶ˆæ¯ä¼ é€’)
- `github.com/streadway/amqp` - v1.1.0+ (RabbitMQ)

#### ç›‘æ§å’Œè¿½è¸ªä¾èµ–
- `go.opentelemetry.io/otel` - v1.38.0+
- `go.opentelemetry.io/otel/sdk` - v1.32.0+
- `github.com/prometheus/client_golang` - v1.23.0+

#### å®‰å…¨ç›¸å…³ä¾èµ–
- `github.com/open-policy-agent/opa` - v1.4.2+ (OPA ç­–ç•¥å¼•æ“)
- `github.com/coreos/go-oidc/v3` - v3.11.0+ (OIDC æ”¯æŒ)
- `golang.org/x/oauth2` - v0.26.0+ (OAuth2 å®¢æˆ·ç«¯)
- `github.com/hashicorp/vault/api` - v1.16.0+ (Vault é›†æˆ)
- `github.com/golang-jwt/jwt/v5` - v5.2.1+ (JWT å¤„ç†)

#### å¯é€‰ä¾èµ–
- `github.com/redis/go-redis/v9` - v9.14.0+ (ç¼“å­˜)
- `github.com/hashicorp/consul/api` - v1.29.4+ (æœåŠ¡å‘ç°)
- `github.com/getsentry/sentry-go` - v0.35.1+ (é”™è¯¯è¿½è¸ª)

## è¿ç§»æŒ‡å—

### ä» v0.8.x å‡çº§åˆ° v0.9.0

#### æ–°å¢åŠŸèƒ½

å¦‚æœæ‚¨æƒ³ä½¿ç”¨ Saga åˆ†å¸ƒå¼äº‹åŠ¡åŠŸèƒ½ï¼š

1. **å®‰è£…æ•°æ®åº“**
   ```bash
   # PostgreSQL (æ¨è)
   brew install postgresql
   # æˆ–ä½¿ç”¨ Docker
   docker run -d -p 5432:5432 -e POSTGRES_PASSWORD=password postgres:16
   ```

2. **è¿è¡Œæ•°æ®åº“è¿ç§»**
   ```bash
   saga-migrate -dsn "postgres://user:password@localhost/saga" -action migrate
   ```

3. **é…ç½® Saga**
   ```yaml
   saga:
     enabled: true
     storage:
       type: postgres
       dsn: "postgres://user:password@localhost/saga"
     messaging:
       broker: nats
       url: "nats://localhost:4222"
   ```

4. **ä½¿ç”¨ Saga**
   ```go
   import "github.com/innovationmech/swit/pkg/saga"
   
   // åˆ›å»º Saga å®šä¹‰
   def := saga.NewSagaDefinition(...)
   
   // åˆ›å»ºåè°ƒå™¨
   coordinator := saga.NewCoordinator(...)
   
   // æ‰§è¡Œ Saga
   instance, err := coordinator.Execute(ctx, def, data)
   ```

#### ä½¿ç”¨å®‰å…¨åŠŸèƒ½

å¦‚æœæ‚¨æƒ³ä½¿ç”¨æ–°çš„å®‰å…¨åŠŸèƒ½ï¼š

1. **é…ç½® OAuth2 è®¤è¯**
   ```yaml
   # swit.yaml
   oauth2:
     enabled: true
     provider: keycloak
     client_id: my-service
     client_secret: ${OAUTH2_CLIENT_SECRET}
     issuer_url: https://auth.example.com/realms/production
     use_discovery: true
     scopes:
       - openid
       - profile
       - email
     jwt:
       signing_method: RS256
       clock_skew: 5m
     cache:
       enabled: true
       ttl: 15m
   ```

2. **é…ç½® OPA ç­–ç•¥å¼•æ“**
   ```yaml
   # swit.yaml
   opa:
     mode: embedded
     embedded:
       policy_dir: ./policies
     default_decision_path: authz/allow
     cache:
       enabled: true
       max_size: 10000
       ttl: 5m
   ```

3. **é…ç½®å¯†é’¥ç®¡ç†**
   ```yaml
   # swit.yaml
   secrets:
     providers:
       - type: env
         enabled: true
         env:
           prefix: APP_SECRET_
       - type: vault
         enabled: true
         vault:
           address: https://vault.example.com:8200
           auth_method: approle
   ```

4. **ä½¿ç”¨å®‰å…¨ä¸­é—´ä»¶**
   ```go
   import (
       "github.com/innovationmech/swit/pkg/security/oauth2"
       "github.com/innovationmech/swit/pkg/security/opa"
       "github.com/innovationmech/swit/pkg/middleware"
   )
   
   // åˆ›å»º OAuth2 å®¢æˆ·ç«¯
   oauth2Client, err := oauth2.NewClient(oauth2Config)
   
   // åˆ›å»º OPA å®¢æˆ·ç«¯
   opaClient, err := opa.NewClient(ctx, opaConfig)
   
   // åº”ç”¨ä¸­é—´ä»¶
   router.Use(middleware.NewOAuth2Middleware(oauth2Client))
   router.Use(middleware.NewOPAMiddleware(opaClient))
   ```

è¯¦ç»†çš„å®‰å…¨è¿ç§»æŒ‡å—è¯·å‚è€ƒï¼š[docs/migration-guide-security.md](docs/migration-guide-security.md)

#### ç ´åæ€§å˜æ›´

**æ— ç ´åæ€§å˜æ›´** - v0.9.0 å®Œå…¨å‘åå…¼å®¹ v0.8.xã€‚

#### å·²åºŸå¼ƒçš„åŠŸèƒ½

**æ— ** - æ‰€æœ‰ç°æœ‰åŠŸèƒ½ç»§ç»­ä¿æŒæ”¯æŒã€‚

## è´¡çŒ®è€…

æ„Ÿè°¢æ‰€æœ‰ä¸ºæœ¬ç‰ˆæœ¬åšå‡ºè´¡çŒ®çš„å¼€å‘è€…ï¼

ç‰¹åˆ«æ„Ÿè°¢ Saga åˆ†å¸ƒå¼äº‹åŠ¡ç³»ç»Ÿçš„å¼€å‘å’Œæ–‡æ¡£å®Œå–„å·¥ä½œã€‚

## ç›¸å…³é“¾æ¥

- **é¡¹ç›®ä¸»é¡µ**: https://github.com/innovationmech/swit
- **å®Œæ•´æ–‡æ¡£**: https://innovationmech.github.io/swit/
- **é—®é¢˜åé¦ˆ**: https://github.com/innovationmech/swit/issues
- **è®¨è®ºåŒº**: https://github.com/innovationmech/swit/discussions

---

æ ¼å¼çº¦å®šï¼š
- ğŸ‰ é‡å¤§ç‰¹æ€§
- âœ¨ æ–°åŠŸèƒ½
- ğŸ› Bug ä¿®å¤
- ğŸ“š æ–‡æ¡£æ›´æ–°
- âš¡ æ€§èƒ½æ”¹è¿›
- ğŸ§ª æµ‹è¯•ç›¸å…³
- ğŸ› ï¸ å·¥å…·å’Œå‘½ä»¤
- ğŸš€ éƒ¨ç½²å’Œè¿ç»´
- â™»ï¸ ä»£ç é‡æ„
- ğŸ”’ å®‰å…¨ç›¸å…³

æœ¬æ–‡æ¡£éµå¾ª [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/) è§„èŒƒã€‚

