# Saga Instance - Completed State
id: saga-instance-completed
name: Completed Order Saga Instance
description: A saga instance that completed successfully
type: saga_instance
tags:
  - completed
  - success
  - state
metadata:
  scenario: completed_state
  stage: final

data:
  id: saga-inst-002
  definition_id: order-saga-001
  name: Order Processing Saga
  description: Processing order ORD-67890
  state: completed
  current_step: 5
  total_steps: 5
  created_at: "2025-01-15T09:00:00Z"
  updated_at: "2025-01-15T09:10:30Z"
  started_at: "2025-01-15T09:00:05Z"
  completed_at: "2025-01-15T09:10:30Z"
  initial_data:
    order_id: ORD-67890
    customer_id: CUST-456
    total_amount: 599.99
    items:
      - product_id: PROD-003
        quantity: 3
        unit_price: 199.99
  current_data:
    order_id: ORD-67890
    customer_id: CUST-456
    total_amount: 599.99
  result_data:
    order_id: ORD-67890
    order_number: ORD-NUM-67890
    status: confirmed
    tracking_number: TRACK-123456
    estimated_delivery: "2025-01-20T00:00:00Z"
  timeout: 5m
  step_states:
    - id: step-0
      saga_id: saga-inst-002
      step_index: 0
      name: Validate Order
      state: completed
      attempts: 1
      max_attempts: 3
      created_at: "2025-01-15T09:00:05Z"
      started_at: "2025-01-15T09:00:05Z"
      completed_at: "2025-01-15T09:00:10Z"
      output_data:
        valid: true
    - id: step-1
      saga_id: saga-inst-002
      step_index: 1
      name: Reserve Inventory
      state: completed
      attempts: 1
      max_attempts: 3
      created_at: "2025-01-15T09:00:10Z"
      started_at: "2025-01-15T09:00:11Z"
      completed_at: "2025-01-15T09:02:00Z"
      output_data:
        reservation_id: INV-RES-789
    - id: step-2
      saga_id: saga-inst-002
      step_index: 2
      name: Process Payment
      state: completed
      attempts: 1
      max_attempts: 3
      created_at: "2025-01-15T09:02:00Z"
      started_at: "2025-01-15T09:02:01Z"
      completed_at: "2025-01-15T09:05:00Z"
      output_data:
        transaction_id: TXN-999888
        payment_status: captured
    - id: step-3
      saga_id: saga-inst-002
      step_index: 3
      name: Create Shipment
      state: completed
      attempts: 1
      max_attempts: 3
      created_at: "2025-01-15T09:05:00Z"
      started_at: "2025-01-15T09:05:01Z"
      completed_at: "2025-01-15T09:08:00Z"
      output_data:
        shipment_id: SHIP-111222
        tracking_number: TRACK-123456
    - id: step-4
      saga_id: saga-inst-002
      step_index: 4
      name: Send Order Confirmation
      state: completed
      attempts: 1
      max_attempts: 3
      created_at: "2025-01-15T09:08:00Z"
      started_at: "2025-01-15T09:08:01Z"
      completed_at: "2025-01-15T09:10:30Z"
      output_data:
        notification_id: NOTIF-333444
        sent_at: "2025-01-15T09:10:30Z"
  metadata:
    trace_id: trace-xyz789
    execution_time_ms: 625000
  trace_id: trace-xyz789
  span_id: span-ghi789
  version: 6

